<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bigspoon</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&family=Jost:wght@300;400&display=swap" rel="stylesheet">
    <script defer src="https://cloud.umami.is/script.js" data-website-id="241dcfb9-b7d4-4110-826c-c4a99a2f84aa"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script type="module" src="/js/main.js"></script>
</head>
<body>
    <div class="background-layer" id="background-layer"></div>
    <div class="commit-hash" id="commit-hash"></div>

    <!-- Intro overlay (first visit only) -->
    <div class="intro-overlay" id="intro-overlay">
        <div class="intro-card">
            <h1 class="intro-brand">&#129348; bigspoon</h1>
            <p class="intro-tagline">Fall asleep together, from anywhere.</p>
            <p class="intro-description">Place your laptop on the empty side of the bed. Share this room with someone you love. Hear their voice. Feel their presence.</p>
            <button class="intro-cta" id="intro-enter">Enter the bedroom</button>
            <a class="intro-notify-link" id="intro-notify-link" href="#">Notify me about updates</a>
            <div class="intro-email-form hidden" id="intro-email-form">
                <input type="email" class="intro-email-input" id="intro-email" placeholder="your@email.com">
                <button class="intro-email-submit" id="intro-email-submit">Subscribe</button>
            </div>
        </div>
    </div>
    <a href="mailto:harxbridge@gmail.com?subject=Bigspoon Feedback" class="feedback-link">Send Feedback</a>

    <div class="hint" id="hint">Click the spoon and<br>then the bed to enter<br>a two person session</div>
    <div class="hint-arrow" id="hint-arrow">&#8594;</div>

    <div class="settings-container">
        <button class="settings-btn settings-toggle" id="settings-toggle" title="Settings">&#129348;</button>
        <div class="settings-options" id="settings-options">
            <button class="settings-btn" id="setting-1" title="Session">&#128716;</button>
            <button class="settings-btn" id="setting-2" title="Room">&#127968;</button>
            <button class="settings-btn" id="setting-3" title="Audio">&#128266;</button>
            <button class="settings-btn" id="setting-4" title="Switch Sides">&#8596;</button>
        </div>
    </div>

    <div class="room-selector hidden" id="room-selector"></div>

    <div class="audio-settings hidden" id="audio-settings">
        <div class="audio-slider-group">
            <label class="audio-slider-label">
                Rain
                <span id="rain-volume-label">50%</span>
            </label>
            <input type="range" class="audio-slider" id="rain-volume" min="0" max="100" value="50">
        </div>
        <div class="audio-slider-group">
            <label class="audio-slider-label">
                Speaker
                <span id="speaker-volume-label">100%</span>
            </label>
            <input type="range" class="audio-slider" id="speaker-volume" min="0" max="100" value="100">
        </div>
        <div class="audio-slider-group">
            <label class="audio-slider-label">
                Microphone
                <span id="mic-volume-label">100%</span>
            </label>
            <input type="range" class="audio-slider" id="mic-volume" min="0" max="100" value="100">
        </div>
    </div>

    <audio id="rain" loop>
        <source src="assets/audio/rain.mp3" type="audio/mpeg">
    </audio>
    <div id="audio-container"></div>

    <div class="overlay" id="overlay">
        <div class="session-form hidden" id="join-form">
            <input type="text" id="session-code" placeholder="Shared Phrase" maxlength="16">
            <br>
            <button id="join-btn">Connect</button>
            <p class="status" id="status">Enter your unique shared phrase to connect</p>
        </div>

        <div class="session-form hidden" id="session-info">
            <p class="status">Connected with phrase: <strong id="current-session"></strong></p>
            <p class="connected-users" id="user-count">0 bedfellows</p>
            <button id="leave-btn">Leave</button>
        </div>
    </div>
</body>
</html>
